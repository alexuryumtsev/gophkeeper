# API Документация

Этот проект использует Swagger для автоматической генерации документации API.

## Доступ к документации

После запуска сервера, документация Swagger доступна по адресу:

```
http://localhost:8080/swagger/index.html
```

## Регенерация документации

Для обновления документации после изменения API аннотаций выполните:

```bash
swag init -g cmd/server/main.go -o docs
```

## Структура API

### Аутентификация
- `POST /api/v1/auth/register` - Регистрация нового пользователя
- `POST /api/v1/auth/login` - Авторизация пользователя

### Управление секретами (требует авторизации)
- `POST /api/v1/secrets` - Создание секрета
- `GET /api/v1/secrets` - Получение списка секретов
- `GET /api/v1/secrets/{id}` - Получение секрета по ID
- `PUT /api/v1/secrets/{id}` - Обновление секрета
- `DELETE /api/v1/secrets/{id}` - Удаление секрета

### Синхронизация (требует авторизации)
- `POST /api/v1/sync` - Синхронизация секретов

### Системные endpoints
- `GET /health` - Проверка состояния сервера

## Безопасность

Для защищенных endpoints требуется:
1. JWT токен в заголовке `Authorization: Bearer <token>`
2. Мастер-пароль в заголовке `X-Master-Password` для операций с секретами

## Типы секретов

API поддерживает 4 типа секретов:
- `credentials` - Логины и пароли
- `text` - Произвольные текстовые данные
- `binary` - Бинарные данные
- `card` - Данные банковских карт